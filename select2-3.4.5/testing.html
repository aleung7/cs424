<html>
	<head>
		<script src="jquery-1.11.0.min.js"></script>
		<link href="select2.css" rel="stylesheet"/>
		<script src="select2.js"></script>

		<script>
			$(document).ready(function() { 
				function format(item) { return item.commodity; };

				$.getJSON( "hscodes.json", function(datas) {
					$("#e9").select2({
						multiple: true,
						minimumInputLength: 2,
						data:{ results: datas, text: 'commodity'},
						formatSelection: format,
						formatResult: format                       
					});
				});
				var codes = $('#e9').select2('val');
				
				//To access the hscodes call codes[0].value which returns the codes
				//like this 01-05,30,010100,3003
				
				//Testing to see that values are passed with each new commodity
				//Can remove the alert
				$('#e9').change(function () {
					alert(codes[0].value);
				});
				//console.log(codes[0].value);
			});
			
		</script>
	</head>
	<body>
		<input type="hidden" id="e9" style="width:800px"/>
	</body>
</html>